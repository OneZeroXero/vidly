{"ast":null,"code":"var _jsxFileName = \"/Users/philwilliams/vidly/src/components/movies.jsx\";\nimport React, { Component } from \"react\";\nimport Like from \"./common/like\";\nimport { getMovies, deleteMovie } from \"../services/fakeMovieService\";\n\nclass Movies extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      movies: getMovies()\n    };\n\n    this.handleDelete = movie => {\n      const movies = this.state.movies.filter(m => m._id !== movie._id);\n      this.setState({\n        movies\n      });\n    };\n\n    this.handleLike = movie => {\n      const movies = [...this.state.movies];\n      const index = movies.indexOf(movie);\n      movies[index] = { ...movies[index]\n      };\n      movies[index].liked = !movies[index].liked;\n      this.setState({\n        movies\n      });\n    };\n  }\n\n  renderMovies() {\n    const {\n      length: count\n    } = this.state.movies;\n    if (count === 0) return /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 29\n      }\n    }, \"There are no Movies in the database\");\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 9\n      }\n    }, \"Showing \", count, \" movies in the database.\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"thead\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 15\n      }\n    }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 15\n      }\n    }, \"Genre\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 15\n      }\n    }, \"Stock\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 15\n      }\n    }, \"Rate\"), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 11\n      }\n    }, this.state.movies.map(movie => /*#__PURE__*/React.createElement(\"tr\", {\n      key: movie._id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }, movie.title), /*#__PURE__*/React.createElement(\"td\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }, movie.genre.name), /*#__PURE__*/React.createElement(\"td\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }\n    }, movie.numberInStock), /*#__PURE__*/React.createElement(\"td\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }\n    }, movie.dailyRentalRate), /*#__PURE__*/React.createElement(\"th\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Like, {\n      liked: movie.liked,\n      onClick: () => this.handleLike(movie),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      scope: \"col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => this.handleDelete(movie),\n      id: movie.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 19\n      }\n    }, \"Delete\")))))));\n  }\n\n  render() {\n    return this.renderMovies();\n  }\n\n}\n\nexport default Movies;","map":{"version":3,"sources":["/Users/philwilliams/vidly/src/components/movies.jsx"],"names":["React","Component","Like","getMovies","deleteMovie","Movies","state","movies","handleDelete","movie","filter","m","_id","setState","handleLike","index","indexOf","liked","renderMovies","length","count","map","title","genre","name","numberInStock","dailyRentalRate","id","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Like from \"./common/like\";\nimport { getMovies, deleteMovie } from \"../services/fakeMovieService\";\n\nclass Movies extends Component {\n  state = {\n    movies: getMovies(),\n  };\n\n  handleDelete = (movie) => {\n    const movies = this.state.movies.filter((m) => m._id !== movie._id);\n    this.setState({ movies });\n  };\n\n  handleLike = (movie) => {\n    const movies = [...this.state.movies];\n    const index = movies.indexOf(movie);\n    movies[index] = { ...movies[index] };\n    movies[index].liked = !movies[index].liked;\n    this.setState({ movies });\n  };\n\n  renderMovies() {\n    const { length: count } = this.state.movies;\n\n    if (count === 0) return <h1>There are no Movies in the database</h1>;\n\n    return (\n      <React.Fragment>\n        <h1>Showing {count} movies in the database.</h1>\n        <table className=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">Title</th>\n              <th scope=\"col\">Genre</th>\n              <th scope=\"col\">Stock</th>\n              <th scope=\"col\">Rate</th>\n              <th scope=\"col\"></th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {this.state.movies.map((movie) => (\n              <tr key={movie._id}>\n                <td scope=\"col\">{movie.title}</td>\n                <td scope=\"col\">{movie.genre.name}</td>\n                <td scope=\"col\">{movie.numberInStock}</td>\n                <td scope=\"col\">{movie.dailyRentalRate}</td>\n                <th scope=\"col\">\n                  <Like\n                    liked={movie.liked}\n                    onClick={() => this.handleLike(movie)}\n                  />\n                </th>\n                <td scope=\"col\">\n                  <button\n                    onClick={() => this.handleDelete(movie)}\n                    id={movie.id}\n                  >\n                    Delete\n                  </button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </React.Fragment>\n    );\n  }\n\n  render() {\n    return this.renderMovies();\n  }\n}\n\nexport default Movies;\n"]},"metadata":{},"sourceType":"module"}